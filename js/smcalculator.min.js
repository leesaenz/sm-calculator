function commaSeparateNumber(e){for(;/(\d+)(\d{3})/.test(e.toString());)e=e.toString().replace(/(\d+)(\d{3})/,"$1,$2");return e}$("document").ready(function(){$(".calc input").TouchSpin({verticalbuttons:!0,min:0,max:1e4}),$("#teachers").val(1),$("#total").val("$399.00"),$("#teachers").val()<=1?($("#teachers").val(1),$(".teacher-down").attr("disabled","disabled")):$(".teacher-down").removeAttr("disabled")}),$("#teachers,#students,#upgrades").change(function(){var e=0,a=$("#teachers"),r=$("#students"),t=$("#upgrades"),d=Number(a.val()),u=Number(r.val()),l=Number(t.val()),b=Number(20),m=(Number(40),Number(40)),o=Number(399);l>=u?(t.val(u),$(".upgrade-up").attr("disabled","disabled")):$(".upgrade-up").removeAttr("disabled"),4>d&&(m=0),1>=d?(a.val(1),$(".teacher-down").attr("disabled","disabled")):$(".teacher-down").removeAttr("disabled");var s=Number((d-3)*m),c=Number(l*b),n=0,i=u-50-l;i>.5?n=40*(Math.floor(i/5-.001)+1):.5>i&&(n=0),e=Number(s+c+n+o),$("#total").val("$"+commaSeparateNumber(e))});